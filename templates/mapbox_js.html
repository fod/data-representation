<html>

<head>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css' rel='stylesheet' />
    <link rel="stylesheet" href='static/map.css'>
</head>

<body>
    <div id='map'>
        <script>
            mapboxgl.accessToken = '{{ACCESS_KEY}}';
            const map = new mapboxgl.Map({
                container: 'map', // container ID
                style: 'mapbox://styles/mapbox/streets-v11', // style URL
                center: ['{{MAP_LONGITUDE}}', '{{MAP_LATITUDE}}'], // starting position [lng, lat]
                zoom: '{{MAP_ZOOM}}' // starting zoom
            });

            map.on('load', function () {
                var url = 'http://127.0.0.1:5000/eds';
                map.addSource('eds', { type: 'geojson', data: url });

                map.addLayer({
                    'id': 'ed',
                    'type': 'fill',
                    'source': 'eds',
                    'paint': {
                        'fill-color': '#888888',
                        'fill-opacity': 0.4
                    }

                });
            });


        </script>
</body>

</html>